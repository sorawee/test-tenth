# Help Topics

## Table of Contents

-   [Show IPE configurations](#show-ipe-configurations)
-   [Adding new stylesheet](#adding-new-stylesheet)
-   [Updating stylesheet](#updating-stylesheet)
-   [Master preamble](#master-preamble)
-   [Generating page labels for LaTeX](#generating-page-labels-for-latex)
-   [Choosing text editor](#choosing-text-editor)


## Show IPE configuration

If you are wondering where to find system-wide directory of IPE,
the best way to figure out is to look at IPE configurations.

Select `Help > Show configuration` from the software menu
or use the following command in terminal:
```bash
$ ipe -show-configuration
```


## Adding new stylesheet

Select `Edit > Style sheets`
(shortcut: <kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>S</kbd>)
and browse for a new `*.isy` file followed by clicking `Add`.

Another way is to use the following command from terminal:
```bash
$ ipescript add-style sheet.isy my-drawings.xml
```
Replacing `my-drawings.xml` with `my-drawings.pdf` also works
if the PDF file is directly generated by IPE software.

Ideally, the added stylesheet file should be located 
within the same directory as the main `*.xml` (drawing) file 
so that stylesheet reloading is easier later own.


## Updating stylesheet

Any changes to a stylesheet file after it has been added to the main drawing file
will not be immediately reflected in the drawing file.
To force apply changes from the stylesheet to the main file,
you will need to tell IPE to do so for you.

Select `Edit > Update style sheets`
(shortcut: <kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>U</kbd>) 
then do not forget to render the content again
with the `File > Run Latex` menu (shortcut: <kbd>Ctrl</kbd>+<kbd>L</kbd>).

Or from command line, type in the following:
```bash
$ ipescript update-styles my-drawings.xml
```
Replacing `my-drawings.xml` with `my-drawings.pdf` also works
if the PDF file is directly generated by IPE software.


## Master preamble

This is a preferred way to add LaTeX preamble into an IPE document file.

First, write LaTeX preamble between `%%BeginIpePreamble` and `%%EndIpePreamble`
inside the `master-preamble.tex` file.
Then compile it into `master-preamble.isy` IPE stylesheet file
with the following command:
```bash
$ ipescript update-master master-preamble.tex
```

If you wish to also apply the stylesheet with existing IPE documents:
```bash
$ ipescript update-master master-preamble.tex my-drawings.xml another-drawings.pdf
```


## Generating page labels for LaTeX

Once you have your drawings (saved as PDF format) generated using IPE software,
you can include these drawings directly into your LaTeX document.
Follow these steps:

1.  In your IPE drawing, each page should be have the `section` attribute labeled.
    Go to menu `Pages > Edit title & sections` (shortcut: <kbd>Ctrl</kbd>+<kbd>P</kbd>)
    and type your name of choice into `section` attributes (only alphabets allowed).
2.  Generate LaTeX shortcut commands to refer to page numbers into your PDF file
    based on the supplied `section` attributes.
    Run the following command in terminal:
    ```bash
    $ ipescript page-labels drawings.pdf
    ```
    It will generate a new `*.tex` file (e.g. `drawingsLabels.tex`)
    with commands representing page numbers.
3.  Use `\input` command to include generated LaTeX files into your main LaTeX document:
    ```tex
    \input{drawingsLabels.tex}
    ```
4.  Use `\includegraphics` command with `page` option to include a drawing of your choice:
    ```
    \includegraphics[page=\ipeFigPetersen]{diagrams/drawings.pdf}    
    ```
    In the above example, there is a page in IPE document with a section labeling `Petersen`
    and thus `\ipeFigPetersen` is generated inside `drawingsLabels.tex`.


## Choosing text editor

Before launching `ipe` software,
set the environment variable to `EDITOR=code`
(or other text editor of your choice; example uses Microsoft Visual Studio Code).
